!function(a,b){var c={fire:function(c){var d=this;if(d.hasBeenInit=d.hasBeenInit||a.Deferred(),_.isObject(c)&&(c=_.extend({module_id:"",isSingleSlide:!1,isLazyLoad:!0,isFreeScroll:!1,isParallaxOn:!0,parallaxRatio:.55,isFixedCaption:!1,timeInterval:5e3,isAutoplay:!1,pauseAutoPlayOnHover:!0,captionFontRatio:0,isDoingPartialRefresh:!1},c||{}),a.extend(d,c)),_.isEmpty(d.module_id))throw new Error("proHeaderSlid, missing module_id");d.loadingIconVisible=new b.Value((!1)),d.loadingIconVisible.bind(function(b){var c=a("#ha-large-header").find(".czr-css-loader");1==c.length&&(b?a.when(c.css({display:"block",opacity:0})).done(function(){c.css({opacity:1})}):(c.css({opacity:0}),_.delay(function(){c.css({display:"none"})},800)),clearTimeout(a.data(this,"loadIconTimer")),a.data(this,"loadIconTimer",_.delay(function(){d.loadingIconVisible(!1)},2e3)))}),d.loadingIconVisible(!0),d.captionFontRatio=Math.abs(parseInt(d.captionFontRatio,10))>50?0:parseInt(d.captionFontRatio,10),d.captionFontRatio=1+Math.round(100*d.captionFontRatio/100)/100,_.isUndefined(a.fn.proHeaderFitText)&&d._addJqueryFitText(),b.bind("flickity-slider-fired",function(a){1<=a.find(".carousel-caption .hph-title").length&&a.find(".carousel-caption .hph-title").proHeaderFitText(1.5,{maxFontSize:65*d.captionFontRatio,minFontSize:30,captionFontRatio:d.captionFontRatio}),1<=a.find(".carousel-caption .hph-subtitle").length&&a.find(".carousel-caption .hph-subtitle").proHeaderFitText(1.9,{maxFontSize:35*d.captionFontRatio,minFontSize:20,captionFontRatio:d.captionFontRatio}),1<=a.find(".carousel-caption .meta-single").length&&a.find(".carousel-caption .meta-single").proHeaderFitText(2.5,{maxFontSize:16.5*d.captionFontRatio,minFontSize:14,captionFontRatio:d.captionFontRatio})}),d.lazyLoadOpt=!1,d.isLazyLoad&&(d.lazyLoadOpt=!d.isFreeScroll||2),b.ready.then(function(){var a=function(){d.flickityEl=d._fire_(),!d.flickityEl||!_.isObject(d.flickityEl)||1>d.flickityEl.length?b.errorLog("Pro Header Flickity slider not properly fired"):b.trigger("flickity-slider-fired",d.flickityEl)};if("pending"==d.hasBeenInit.state())d._init().done(function(){a()});else{if(1>=d.flickityEl.length&&!_.isUndefined(d.flickityEl.data("flickity")))return;a()}})},_init:function(){var c=this;return a.Deferred(function(){var d=this,e=Flickity.prototype.activate;Flickity.prototype.activate=function(){if(!this.isActive){var b=this;e.apply(this,arguments),a(b.element).trigger("hu-flickity-ready")}};var f=Flickity.LazyLoader.prototype.load;Flickity.LazyLoader.prototype.load=function(){var a=this;this.flickity.dispatchEvent("lazyLoad-start",null,a.img.getAttribute("data-flickity-lazyload")),f.apply(this,arguments)},b.$_body.on("click tap prev.hu-slider",".slider-prev",function(a){c._slider_arrows.apply(this,[a,"previous"])}),b.$_body.on("click tap next.hu-slider",".slider-next",function(a){c._slider_arrows.apply(this,[a,"next"])}),c.hasBeenInit.resolve(),d.resolve()}).promise()},_fire_:function(){var c=this,d=a(".carousel-inner","#"+c.module_id);if(1>d.length)return void b.errorLog("Flickity slider dom element is empty : "+c.module_id);if(1<d.length)return void b.errorLog("Header Slider Aborted : more than one flickity slider dom element : "+c.module_id);d.on("hu-flickity-ready.flickity",function(b){if(c.isParallaxOn&&a(b.target).children(".flickity-viewport").css("will-change","transform").czrParallax({parallaxRatio:c.parallaxRatio}),c.isFixedCaption){var e=d.find(".carousel-caption-wrapper");d.find(".flickity-viewport").prepend(e)}});var e=function(a){var b="select"==a?"translate3d(-50%, -50%, 0)":"";return{"-webkit-transform":b,"-ms-transform":b,"-o-transform":b,transform:b}};c._flickityse(),c._centerSlidise();var f=!0,g=!1;return _.delay(function(){d.on("scroll.flickity",_.throttle(function(a){g=!0,d.find(".carousel-caption").css(e(f?"settle":"select"))},250)),d.on("select.flickity",function(a){f=!1}),d.on("settle.flickity",function(a){f=!0,g=!1,d.find(".carousel-caption").css(e("settle"))}),b.userXP&&b.userXP.isResizing&&b.userXP.isResizing.bind(_.debounce(function(a){d.find(".carousel-caption").css(e(a?"select":"settle"))},700)),c.imgLazyLoaded=[];var h=function(a,b){c.loadingIconVisible(a)};h=_.debounce(h,100),d.on("lazyLoad-start.flickity",function(a,b){h(!0,b)}),d.on("lazyLoad.flickity",function(b,d){if(1==a(d).length){var e=a(d).find("img");1==e.length&&c.imgLazyLoaded.push(e.attr("src")),h(!1,e.attr("src"))}else h(!1)}),c.loadingIconVisible(!1),d.css({opacity:1}),a("#ha-large-header").find("#"+c.module_id).addClass("slider-ready")},50),d},_flickityse:function(){var b=this,c=!1;b.isAutoplay&&(c=!(_.isNumber(b.timeInterval)&&b.timeInterval>0)||b.timeInterval),a(".carousel-inner","#"+b.module_id).flickity({prevNextButtons:!1,pageDots:!b.isSingleSlide,wrapAround:!0,imagesLoaded:!0,setGallerySize:!1,cellSelector:".carousel-cell",dragThreshold:10,autoPlay:c,pauseAutoPlayOnHover:b.pauseAutoPlayOnHover,accessibility:!1,lazyLoad:b.lazyLoadOpt,draggable:!b.isSingleSlide,freeScroll:b.isFreeScroll,freeScrollFriction:.03})},_slider_arrows:function(b,c){b.preventDefault();var d=a(this),e=d.data("controls");d.length&&(e||(e=d.closest(".pc-section-slider").find(".flickity-enabled").data("flickity"),d.data("controls",e)),"previous"==c?e.previous():"next"==c&&e.next())},_centerSlidise:function(){var b=this;setTimeout(function(){a.each(a(".carousel-inner","#"+b.module_id),function(){a(this).centerImages({enableCentering:1,imgSel:".carousel-image img",oncustom:["lazyLoad.flickity","settle.flickity","simple_load"],defaultCSSVal:{width:"100%",height:"auto"},useImgAttr:!0,zeroTopAdjust:0})})},50)},_addJqueryFitText:function(){if(!a.fn.proHeaderFitText){var c=this;a.fn.proHeaderFitText=function(d,e){var f=d||1,g=a.extend({minFontSize:Number.NEGATIVE_INFINITY,maxFontSize:Number.POSITIVE_INFINITY,captionFontRatio:1},e),h=g.captionFontRatio;return this.each(function(){var d=a(this),e=function(){var a=Math.max(Math.min(d.width()/(10*f),c.flickityEl&&c.flickityEl.length>=1?c.flickityEl.height()/(8*f):d.width()/(10*f),parseFloat(g.maxFontSize)),parseFloat(g.minFontSize));a=Math.max(a*h,parseFloat(g.minFontSize)),d.css("font-size",a),d.css("line-height",1.45*a+"px")};e(),a(window).on("resize.fittext orientationchange.fittext",e),b&&b.ready&&b.ready.then(function(){if(b.userXP._isCustomizing()){var a=function(){wp.customize.preview.bind("czr_input",function(){e()})};wp.customize.topics&&wp.customize.topics["preview-ready"]&&wp.customize.topics["preview-ready"].fired()?a():wp.customize.bind("preview-ready",a)}})})}}}};b.methods.ProHeaderSlid=b.methods.ProHeaderSlid||{},a.extend(b.methods.ProHeaderSlid,c)}(jQuery,czrapp);