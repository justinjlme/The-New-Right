{"_id":"gson-query","_rev":"5-de5cead26c1c103ea925519b123ff01b","name":"gson-query","description":"json-pointer utilities for querying data","dist-tags":{"latest":"1.1.0"},"versions":{"1.0.2":{"name":"gson-query","version":"1.0.2","description":"json-pointer utilities for querying data","main":"lib/index.js","dependencies":{"gson-conform":"^1.0.2","gson-pointer":"^1.0.3"},"devDependencies":{"mocha":"^3.1.2","watch":"^1.0.1","chai":"^3.5.0"},"scripts":{"test":"mocha --recursive 'test/unit/*.test.js' -R spec; exit 0","tdd":"watch 'npm run test' lib/ app/ test/; exit 0"},"keywords":[],"author":{"name":"Sascha Goldhofer","email":"noreply@saschagoldhofer.de","url":"https://github.com/sagold/"},"license":"ISC","gitHead":"741e3b5b390360e5ac9d8c1cda032f7d1ad3e5d0","_id":"gson-query@1.0.2","_shasum":"14d7653fa63a81c34b307133457e1f95da9bab79","_from":".","_npmVersion":"3.10.9","_nodeVersion":"6.9.1","_npmUser":{"name":"sagold","email":"noreply@saschagoldhofer.de"},"dist":{"shasum":"14d7653fa63a81c34b307133457e1f95da9bab79","tarball":"https://registry.npmjs.org/gson-query/-/gson-query-1.0.2.tgz"},"maintainers":[{"name":"sagold","email":"noreply@saschagoldhofer.de"}],"_npmOperationalInternal":{"host":"packages-18-east.internal.npmjs.com","tmp":"tmp/gson-query-1.0.2.tgz_1479236943557_0.19482960016466677"},"directories":{}},"1.0.4":{"name":"gson-query","version":"1.0.4","description":"json-pointer utilities for querying data","main":"lib/index.js","repository":{"type":"git","url":"git+https://github.com/sagold/json-query.git"},"dependencies":{"gson-conform":"^1.0.2","gson-pointer":"^1.0.3"},"devDependencies":{"mocha":"^3.1.2","watch":"^1.0.1","chai":"^3.5.0"},"scripts":{"test":"mocha --recursive 'test/unit/*.test.js' -R spec; exit 0","tdd":"watch 'npm run test' lib/ app/ test/; exit 0"},"keywords":[],"author":{"name":"Sascha Goldhofer","email":"noreply@saschagoldhofer.de","url":"https://github.com/sagold/"},"license":"ISC","gitHead":"5f880d556141f98194cb8bf38628c3d55a57e64b","bugs":{"url":"https://github.com/sagold/json-query/issues"},"homepage":"https://github.com/sagold/json-query#readme","_id":"gson-query@1.0.4","_shasum":"743508de55c6d5bbe765175147dd9944b5c92e42","_from":".","_npmVersion":"3.10.9","_nodeVersion":"6.9.1","_npmUser":{"name":"sagold","email":"noreply@saschagoldhofer.de"},"dist":{"shasum":"743508de55c6d5bbe765175147dd9944b5c92e42","tarball":"https://registry.npmjs.org/gson-query/-/gson-query-1.0.4.tgz"},"maintainers":[{"name":"sagold","email":"noreply@saschagoldhofer.de"}],"_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/gson-query-1.0.4.tgz_1479757733845_0.6151784746907651"},"directories":{}},"1.0.5":{"name":"gson-query","version":"1.0.5","description":"json-pointer utilities for querying data","main":"lib/index.js","repository":{"type":"git","url":"git+https://github.com/sagold/json-query.git"},"scripts":{"test":"mocha --recursive 'test/unit/*.test.js' -R spec; exit 0","tdd":"watch 'npm run test' lib/ app/ test/; exit 0","debug":"devtool node_modules/mocha/bin/_mocha -qc -- --recursive test/unit/*.test.js"},"dependencies":{"gson-conform":"^1.0.2","gson-pointer":"^1.0.3"},"devDependencies":{"mocha":"^3.1.2","watch":"^1.0.1","chai":"^3.5.0"},"keywords":[],"author":{"name":"Sascha Goldhofer","email":"noreply@saschagoldhofer.de","url":"https://github.com/sagold/"},"license":"ISC","gitHead":"6be1d0debac12140f6025d41b6d6453e6b18f1ee","bugs":{"url":"https://github.com/sagold/json-query/issues"},"homepage":"https://github.com/sagold/json-query#readme","_id":"gson-query@1.0.5","_shasum":"08965dc1fbf543e979c914796186d055319f6607","_from":".","_npmVersion":"3.10.9","_nodeVersion":"6.9.1","_npmUser":{"name":"sagold","email":"noreply@saschagoldhofer.de"},"dist":{"shasum":"08965dc1fbf543e979c914796186d055319f6607","tarball":"https://registry.npmjs.org/gson-query/-/gson-query-1.0.5.tgz"},"maintainers":[{"name":"sagold","email":"noreply@saschagoldhofer.de"}],"_npmOperationalInternal":{"host":"packages-18-east.internal.npmjs.com","tmp":"tmp/gson-query-1.0.5.tgz_1479761060913_0.954295807518065"},"directories":{}},"1.1.0":{"name":"gson-query","version":"1.1.0","description":"json-pointer utilities for querying data","main":"lib/index.js","repository":{"type":"git","url":"git+https://github.com/sagold/json-query.git"},"scripts":{"test":"mocha --recursive 'test/unit/*.test.js' -R spec; exit 0","tdd":"watch 'npm run test' lib/ app/ test/; exit 0","debug":"devtool node_modules/mocha/bin/_mocha -qc -- --recursive test/unit/*.test.js"},"dependencies":{"gson-conform":"^1.0.2","gson-pointer":"^1.0.3"},"devDependencies":{"mocha":"^3.1.2","watch":"^1.0.1","chai":"^3.5.0"},"keywords":[],"author":{"name":"Sascha Goldhofer","email":"noreply@saschagoldhofer.de","url":"https://github.com/sagold/"},"license":"ISC","gitHead":"22dca6d40adca06b56c977d73a8b9b0b0bba95ab","bugs":{"url":"https://github.com/sagold/json-query/issues"},"homepage":"https://github.com/sagold/json-query#readme","_id":"gson-query@1.1.0","_shasum":"3bab2a51e309278bb65a07a3e48fff68d1514324","_from":".","_npmVersion":"3.10.9","_nodeVersion":"6.9.1","_npmUser":{"name":"sagold","email":"noreply@saschagoldhofer.de"},"dist":{"shasum":"3bab2a51e309278bb65a07a3e48fff68d1514324","tarball":"https://registry.npmjs.org/gson-query/-/gson-query-1.1.0.tgz"},"maintainers":[{"name":"sagold","email":"noreply@saschagoldhofer.de"}],"_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/gson-query-1.1.0.tgz_1483275340301_0.32519433624111116"},"directories":{}}},"readme":"# Json Query\n\nInstall\n\n`npm i gson-query`\n\nand use with\n\n`const query = require(\"gson-query\")`\n\nAt first, **json-query** acts like a normal [**json-pointer**](https://github.com/sagold/json-pointer) where its match\nis passed to the given callback function:\n\n```js\n\tconst query = require(\"gson-query\");\n\tconst data = {\n\t\t\"parent\": {\n\t\t\t\"child\": {\"id\": \"child-1\"}\n\t\t}\n\t};\n\tquery.run(data, \"#/parent/child/id\", (value, key, object, jsonPointer) => {\n\t\t// value = \"child-1\"\n\t\t// key = \"id\"\n\t\t// object = {\"id\": \"child-1\"}\n\t\t// jsonPointer = \"#/parent/child/id\"\n\t});\n\t// or get the result in an array\n\tvar match = query.get(data, \"#/parent/child/id\");\n\t// [ [\"child-1\", \"id\", {\"id\":\"child-1\"}, \"#/parent/child/id\"] ]\n```\n\n\nBut query also supports **glob-patterns** with `*`:\n\n```js\n\tconst query = require(\"gson-query\");\n\tconst data = {\n\t\t\"parent\": {\n\t\t\t\"child\": {\"id\": \"child-1\"}\n\t\t},\n\t\t\"neighbour\": {\n\t\t\t\"child\": {\"id\": \"child-2\"}\n\t\t}\n\t};\n\tquery.run(data, \"#/*/child/id\", function (value, key, object, jsonPointer) {\n\t\t// will be called with value: \"child-1\" and \"child-2\"\n\t});\n\t// or get the result in an array\n\tvar match = query.get(data, \"#/parent/child/id\");\n\t// [ [\"child-1\", ...], [\"child-2\", ...] ]\n```\n\nand **glob-patterns** with `**`:\n\n```js\n\tvar query = require(\"gson-query\");\n\tvar data = {\n\t\t\"parent\": {\n\t\t\t\"child\": {\"id\": \"child-1\"}\n\t\t},\n\t\t\"neighbour\": {\n\t\t\t\"child\": {\"id\": \"child-2\"}\n\t\t}\n\t};\n\tquery.run(data, \"#/**/id\", function (value, key, object, jsonPointer) {\n\t\t// will be called with value: \"parent\" \"child-1\" and \"child-2\"\n\t});\n```\n\nor simply call `query.run(data, \"#/**\", callback)` to run callback on each object,array and value.\n\n\nTo **filter** the matched objects, an object-query string may be appended on each single step:\n\n```js\n\tvar query = require(\"gson-query\");\n\tvar data = {\n\t\t\"parent\": {\n\t\t\t\"valid\": true,\n\t\t\t\"child\": {\"id\": \"child-1\"}\n\t\t},\n\t\t\"neighbour\": {\n\t\t\t\"valid\": false,\n\t\t\t\"child\": {\"id\": \"child-2\"}\n\t\t},\n\t\t\"dungeons\": {\n\t\t\t\"child\": {\"id\": \"child-3\"}\n\t\t}\n\t};\n\tquery.run(data, \"#/**?valid:true&&ignore:undefined/child\", function (value, key, object, jsonPointer) {\n\t\t// will be called with value: {\"id\": \"child-1\"} only\n\t});\n\t// same result with\n\tquery.run(data, \"#/**?valid:!false/child\", function (value, key, object, jsonPointer) { // ...\n```\n\nor match all objects that have a defined property _valid_ like `query.run(data, \"#/**?valid\", callback)`.\n\n\n\n**regular expression** must be wrapped with `{.*}`:\n\n```js\n\tvar query = require(\"gson-query\");\n\tvar data = {\n\t\t\"albert\": {valid: true},\n\t\t\"alfred\": {valid: false},\n\t\t\"alfons\": {valid: true}\n\t};\n\tquery.run(data, \"#/{al[^b]}?valid:true\", function (value, key, object, jsonPointer) {\n\t\t// will be executed with value: alfons\n\t});\n```\n\n\n## queryGet\n\nIf you only require values or pointers, use queryGet to receive an Array or Object as result:\n\n```js\n\tvar queryGet = require(\"gson-query\").get;\n\n\t// default: queryGet.VALUES\n\tvar arrayOfValues = queryGet(data, \"#/**/id\", queryGet.VALUE);\n\t// [\"#/..\", \"#/..\", ...]\n\tvar arrayOfJsonPointers = queryGet(data, \"#/**/id\", queryGet.POINTER);\n\t// [arguments, arguments], where arguments = 0:value 1:object 2:key 3:jsonPointer\n\tvar arrayOfAllFourArguments = queryGet(data, \"#/**/id\", queryGet.ALL);\n\t// {\"#/..\": value, \"#/..\": value}\n\tvar mapOfPointersAndData = queryGet(data, \"#/**/id\", queryGet.MAP);\n```\n\n\n## queryDelete\n\nMultiple items on objects or in arrays may also be delete with query.delete:\n\n```js\n\tvar queryDelete = require(\"gson-query\").delete;\n\n\tqueryDelete(data, \"#/**/*/data\");\n```\n\n\n## Examples\n\n- `query.run(data, \"#/**/*\", callback);` will iterate over each value of the data object\n- `query.run(data, \"#/**?valid:true\", callback);` will select all objects having its property \"valid\" set to `true`\n\n\nfor further examples refer to the unit tests\n\n- [query.delete](https://github.com/sagold/json-query/blob/master/test/unit/queryDelete.test.js)\n- [query.get](https://github.com/sagold/json-query/blob/master/test/unit/queryGet.test.js)\n- [query.query](https://github.com/sagold/json-query/blob/master/test/unit/query.test.js)\n\n\n\n","maintainers":[{"name":"sagold","email":"noreply@saschagoldhofer.de"}],"time":{"modified":"2017-01-25T04:04:15.803Z","created":"2016-11-15T19:09:04.196Z","1.0.2":"2016-11-15T19:09:04.196Z","1.0.4":"2016-11-21T19:48:55.950Z","1.0.5":"2016-11-21T20:44:21.421Z","1.1.0":"2017-01-01T12:55:42.457Z"},"keywords":[],"author":{"name":"Sascha Goldhofer","email":"noreply@saschagoldhofer.de","url":"https://github.com/sagold/"},"license":"ISC","readmeFilename":"README.md","homepage":"https://github.com/sagold/json-query#readme","repository":{"type":"git","url":"git+https://github.com/sagold/json-query.git"},"bugs":{"url":"https://github.com/sagold/json-query/issues"},"users":{"hugov":true},"_attachments":{},"_etag":"W/\"588823bf-2a29\"","_lastModified":"Wed, 25 Jan 2017 04:04:15 GMT"}